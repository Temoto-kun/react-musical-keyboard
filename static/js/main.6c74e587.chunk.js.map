{"version":3,"sources":["../../dist/index.es.js","services/getKeyFrequency.js","App.jsx","index.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread2","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_slicedToArray","arr","Array","isArray","_arrayWithHoles","Symbol","iterator","toString","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","getNaturalKeyIndexInOctave","pitchIndex","id","naturalKeyIndex","MusicalKeyboard","react","_ref","ref","_objectSpread2$1","heightAttribute","widthAttribute","flexDirection","topAttribute","leftAttribute","marginLeftAttribute","marginRightAttribute","clientYAttribute","offsetHeightAttribute","_ref$startKey","startKey","_ref$endKey","endKey","_ref$style","style","_ref$onKeyOn","onKeyOn","_ref$onKeyOff","onKeyOff","_ref$labels","labels","_ref$keyboardMapping","keyboardMapping","_ref$accidentalKeyHei","accidentalKeyHeight","_ref$keyboardVelocity","keyboardVelocity","_ref$keysOn","keysOn","_ref$naturalKeyStyle","naturalKeyStyle","_ref$accidentalKeySty","accidentalKeyStyle","_ref$orientation","orientation","props","keyboardRef","setKeyboardKeys","_React$useState4","octaveKeys","setOctaveKeys","_React$useState6","setKeys","theOctaveKeys","entries","triggerKeyOn","noteVelocity","_keyboardRef$current","current","velocity","triggerKeyOff","_keyboardRef$current2","handleMouseLeave","e","buttons","handleMouseEnter","clientY","offsetHeight","offsetY","getBoundingClientRect","handleMouseClick","preventDefault","focus","handleMouseUp","isPressed","includes","theKeys","k","octave","Math","floor","handleKeyUp","altKey","shiftKey","ctrlKey","metaKey","keyCode","c","theKey","code","window","addEventListener","removeEventListener","allNaturalKeys","values","reduce","allOctaveKeys","concat","lineHeight","backgroundColor","boxSizing","overflow","display","tabIndex","onKeyDown","map","_ref2","octaveIndex","octaves","_ref4","_ref3","pitches","p","slice","_ref5","_ref6","position","onMouseDown","onMouseEnter","onMouseLeave","onMouseUp","width","height","transform","split","propTypes","prop_types","index_es","getKeyFrequency","keyNumber","baseKeyNumber","baseKeyFrequency","pow","PITCH_NAMES","App","startKeyProp","endKeyProp","_ref$sound","sound","soundProp","_ref$generator","generator","_React$useState","React","withLabels","slicedToArray","_React$useState3","setSound","_React$useState5","sustain","setSustain","_React$useState7","_React$useState8","sostenuto","setSostenuto","_React$useState9","_React$useState10","unaCorda","setUnaCorda","_React$useState11","_React$useState12","notesOn","setNotesOn","_React$useState13","innerWidth","_React$useState14","setInnerWidth","_React$useState15","innerHeight","_React$useState16","setInnerHeight","_React$useState17","setMouseNotesOn","_React$useState19","setVelocity","timer","soundRef","sustainPedalRef","sostenutoPedalRef","unaCordaPedalRef","keepFocus","setTimeout","handleSustainPedalRelease","handleSostenutoPedalRelease","handleUnaCordaPedalRelease","sendMessage","changeSound","handleDragOver","stopPropagation","handleDrop","asyncToGenerator","regenerator_default","a","mark","_callee","files","_files","file","midiData","midi","allMessages","ticksCounter","queueMessages","wrap","_context","prev","dataTransfer","clearInterval","type","abrupt","arrayBuffer","sent","Midi","console","log","toConsumableArray","tracks","trackMessages","t","trackNumber","notes","n","ticks","durationTicks","controlChanges","Number","d","allTheMessages","m","sort","b","setInterval","header","ppq","_m","toArray","params","soundOn","soundOff","stop","_x","handleResize","_e$target","document","body","className","name","onChange","getSounds","s","_e$target$value","oldVelocity","theVelocity","newNotes","color","outline","bottom","left","pressed","border","KEYBOARD_MAPPING","81","50","87","51","69","82","53","84","54","89","55","85","73","57","79","48","80","219","61","187","221","90","83","88","68","67","86","71","66","72","78","74","77","188","76","190","59","186","191","Promise","all","__webpack_require__","then","bind","midiModule","Generator","default","navigator","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6c74e587.chunk.js","sourcesContent":["import { forwardRef, useRef, useState, useCallback, useEffect, createElement } from 'react';\nimport { number, object, func, oneOfType, string, oneOf, arrayOf } from 'prop-types';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar getNaturalKeyIndexInOctave = function getNaturalKeyIndexInOctave(key) {\n  var pitchIndex = key.id % 12;\n  var naturalKeys = [0, 2, 4, 5, 7, 9, 11];\n  var naturalKeyIndex = naturalKeys.indexOf(pitchIndex);\n\n  if (naturalKeyIndex === -1) {\n    return null;\n  }\n\n  return naturalKeyIndex;\n};\n/**\n * A component for events that a controller with the likeness of a musical keyboard triggers (for instance, MIDI\n * events).\n */\n\n\nvar MusicalKeyboard = forwardRef(function (_ref, ref) {\n  var _objectSpread2$1;\n\n  var _ref$startKey = _ref.startKey,\n      startKey = _ref$startKey === void 0 ? 9 : _ref$startKey,\n      _ref$endKey = _ref.endKey,\n      endKey = _ref$endKey === void 0 ? 96 : _ref$endKey,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      _ref$onKeyOn = _ref.onKeyOn,\n      onKeyOn = _ref$onKeyOn === void 0 ? null : _ref$onKeyOn,\n      _ref$onKeyOff = _ref.onKeyOff,\n      onKeyOff = _ref$onKeyOff === void 0 ? null : _ref$onKeyOff,\n      _ref$labels = _ref.labels,\n      labels = _ref$labels === void 0 ? null : _ref$labels,\n      _ref$keyboardMapping = _ref.keyboardMapping,\n      keyboardMapping = _ref$keyboardMapping === void 0 ? null : _ref$keyboardMapping,\n      _ref$accidentalKeyHei = _ref.accidentalKeyHeight,\n      accidentalKeyHeight = _ref$accidentalKeyHei === void 0 ? '60%' : _ref$accidentalKeyHei,\n      _ref$keyboardVelocity = _ref.keyboardVelocity,\n      keyboardVelocity = _ref$keyboardVelocity === void 0 ? 0.75 : _ref$keyboardVelocity,\n      _ref$keysOn = _ref.keysOn,\n      keysOn = _ref$keysOn === void 0 ? [] : _ref$keysOn,\n      _ref$naturalKeyStyle = _ref.naturalKeyStyle,\n      naturalKeyStyle = _ref$naturalKeyStyle === void 0 ? function () {\n    return {};\n  } : _ref$naturalKeyStyle,\n      _ref$accidentalKeySty = _ref.accidentalKeyStyle,\n      accidentalKeyStyle = _ref$accidentalKeySty === void 0 ? function () {\n    return {};\n  } : _ref$accidentalKeySty,\n      _ref$orientation = _ref.orientation,\n      orientation = _ref$orientation === void 0 ? 'normal' : _ref$orientation,\n      props = _objectWithoutProperties(_ref, [\"startKey\", \"endKey\", \"style\", \"onKeyOn\", \"onKeyOff\", \"labels\", \"keyboardMapping\", \"accidentalKeyHeight\", \"keyboardVelocity\", \"keysOn\", \"naturalKeyStyle\", \"accidentalKeyStyle\", \"orientation\"]);\n\n  var keyboardRef = ref || useRef(null);\n\n  var _React$useState = useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      setKeyboardKeys = _React$useState2[1];\n\n  var _React$useState3 = useState({}),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      octaveKeys = _React$useState4[0],\n      setOctaveKeys = _React$useState4[1];\n\n  var _React$useState5 = useState({}),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      keys = _React$useState6[0],\n      setKeys = _React$useState6[1];\n\n  var theOctaveKeys = Object.entries(octaveKeys);\n  var heightAttribute;\n  var widthAttribute;\n  var flexDirection;\n  var topAttribute;\n  var leftAttribute;\n  var marginLeftAttribute;\n  var marginRightAttribute;\n  var clientYAttribute;\n  var offsetHeightAttribute;\n\n  switch (orientation) {\n    default:\n    case 'normal':\n      heightAttribute = 'height';\n      widthAttribute = 'width';\n      flexDirection = 'row';\n      topAttribute = 'top';\n      leftAttribute = 'left';\n      marginLeftAttribute = 'marginLeft';\n      marginRightAttribute = 'marginRight';\n      clientYAttribute = 'clientY';\n      offsetHeightAttribute = 'offsetHeight';\n      break;\n\n    case 'rotate-180':\n      heightAttribute = 'height';\n      widthAttribute = 'width';\n      flexDirection = 'row-reverse';\n      topAttribute = 'bottom';\n      leftAttribute = 'right';\n      marginLeftAttribute = 'marginRight';\n      marginRightAttribute = 'marginLeft';\n      clientYAttribute = 'clientY';\n      offsetHeightAttribute = 'offsetHeight';\n      break;\n\n    case 'rotate-90':\n      heightAttribute = 'width';\n      widthAttribute = 'height';\n      flexDirection = 'column-reverse';\n      topAttribute = 'left';\n      leftAttribute = 'bottom';\n      marginLeftAttribute = 'marginBottom';\n      marginRightAttribute = 'marginTop';\n      clientYAttribute = 'clientX';\n      offsetHeightAttribute = 'offsetWidth';\n      break;\n\n    case 'rotate-270':\n      heightAttribute = 'width';\n      widthAttribute = 'height';\n      flexDirection = 'column';\n      topAttribute = 'right';\n      leftAttribute = 'top';\n      marginLeftAttribute = 'marginTop';\n      marginRightAttribute = 'marginBottom';\n      clientYAttribute = 'clientX';\n      offsetHeightAttribute = 'offsetWidth';\n      break;\n  }\n\n  var triggerKeyOn = function triggerKeyOn(source) {\n    return function (key, noteVelocity) {\n      var _keyboardRef$current = keyboardRef.current,\n          current = _keyboardRef$current === void 0 ? null : _keyboardRef$current;\n\n      if (onKeyOn && current !== null) {\n        onKeyOn({\n          target: _objectSpread2({}, current, {\n            value: _objectSpread2({}, key, {\n              velocity: noteVelocity\n            })\n          }),\n          source: source\n        });\n      }\n    };\n  };\n\n  var triggerKeyOff = useCallback(function (source) {\n    return function (key) {\n      var _keyboardRef$current2 = keyboardRef.current,\n          current = _keyboardRef$current2 === void 0 ? null : _keyboardRef$current2;\n\n      if (onKeyOff && current !== null) {\n        onKeyOff({\n          target: _objectSpread2({}, current, {\n            value: key\n          }),\n          source: source\n        });\n      }\n    };\n  }, [onKeyOff]);\n\n  var handleMouseLeave = function handleMouseLeave(key) {\n    return function (e) {\n      var buttons = e.buttons;\n\n      if (buttons === 1) {\n        triggerKeyOff('mouse')(key);\n      }\n    };\n  };\n\n  var handleMouseEnter = function handleMouseEnter(key) {\n    return function (e) {\n      var buttons = e.buttons,\n          clientY = e[clientYAttribute],\n          target = e.target;\n      var offsetHeight = target[offsetHeightAttribute];\n      var current = keyboardRef.current;\n\n      var _current$getBoundingC = current.getBoundingClientRect(),\n          top = _current$getBoundingC[topAttribute];\n\n      var offsetY = clientY - top;\n\n      if (buttons === 1) {\n        triggerKeyOn('mouse')(key, offsetY / offsetHeight);\n      }\n    };\n  };\n\n  var handleMouseClick = function handleMouseClick(key) {\n    return function (e) {\n      var buttons = e.buttons,\n          clientY = e[clientYAttribute],\n          target = e.target;\n      var offsetHeight = target[offsetHeightAttribute];\n      var current = keyboardRef.current;\n\n      var _current$getBoundingC2 = current.getBoundingClientRect(),\n          top = _current$getBoundingC2[topAttribute];\n\n      var offsetY = clientY - top;\n\n      if (buttons === 1) {\n        e.preventDefault();\n        current.focus();\n        triggerKeyOn('mouse')(key, offsetY / offsetHeight);\n      }\n    };\n  };\n\n  var handleMouseUp = function handleMouseUp(key) {\n    return function (e) {\n      e.preventDefault();\n      triggerKeyOff('mouse')(key);\n    };\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    var altKey = e.altKey,\n        shiftKey = e.shiftKey,\n        ctrlKey = e.ctrlKey,\n        metaKey = e.metaKey,\n        keyCode = e.keyCode;\n\n    if (altKey || shiftKey || ctrlKey || metaKey) {\n      return;\n    }\n\n    if (keyboardMapping && keyboardMapping[keyCode]) {\n      e.preventDefault();\n    } else {\n      return;\n    }\n\n    setKeyboardKeys(function (c) {\n      if (c.includes(keyCode)) {\n        return c;\n      }\n\n      var theKey = keyboardMapping[keyCode];\n\n      if (keyboardMapping !== null && theKey) {\n        triggerKeyOn('keyboard')(keys[theKey], keyboardVelocity);\n      }\n\n      return [].concat(_toConsumableArray(c), [keyCode]);\n    });\n  };\n\n  var isPressed = function isPressed(key) {\n    return Array.isArray(keysOn) && keysOn.includes(key.id);\n  };\n\n  useEffect(function () {\n    var theOctaveKeys = {};\n    var theKeys = {};\n\n    for (var k = startKey; k <= endKey; k += 1) {\n      var octave = Math.floor(k / 12);\n\n      if (!(octave in theOctaveKeys)) {\n        theOctaveKeys[octave] = [];\n      }\n\n      theKeys[k] = {\n        id: k,\n        octave: octave\n      };\n      theOctaveKeys[octave].push(theKeys[k]);\n    }\n\n    setOctaveKeys(theOctaveKeys);\n    setKeys(theKeys);\n  }, [startKey, endKey]);\n  useEffect(function () {\n    var handleKeyUp = function handleKeyUp(e) {\n      var altKey = e.altKey,\n          shiftKey = e.shiftKey,\n          ctrlKey = e.ctrlKey,\n          metaKey = e.metaKey,\n          keyCode = e.keyCode;\n\n      if (altKey || shiftKey || ctrlKey || metaKey) {\n        return;\n      }\n\n      if (keyboardMapping && keyboardMapping[keyCode]) {\n        e.preventDefault();\n      } else {\n        return;\n      }\n\n      setKeyboardKeys(function (c) {\n        var theKey = keyboardMapping[keyCode];\n\n        if (keyboardMapping !== null && theKey) {\n          triggerKeyOff(false)({\n            id: theKey\n          });\n        }\n\n        return c.filter(function (code) {\n          return code !== keyCode;\n        });\n      });\n    };\n\n    window.addEventListener('keyup', handleKeyUp, true);\n    return function () {\n      window.removeEventListener('keyup', handleKeyUp, true);\n    };\n  }, [keyboardMapping, triggerKeyOff]);\n  var allKeys = Object.values(octaveKeys).reduce(function (allOctaveKeys, keys) {\n    return [].concat(_toConsumableArray(allOctaveKeys), _toConsumableArray(keys));\n  }, []);\n  var allNaturalKeys = allKeys.filter(function (k) {\n    return getNaturalKeyIndexInOctave(k) !== null;\n  });\n  return createElement(\"div\", _extends({}, props, {\n    style: _objectSpread2((_objectSpread2$1 = {}, _defineProperty(_objectSpread2$1, widthAttribute, '100%'), _defineProperty(_objectSpread2$1, heightAttribute, 100), _defineProperty(_objectSpread2$1, \"minHeight\", orientation === 'rotate-90' || orientation === 'rotate-270' ? '100vw' : null), _objectSpread2$1), style, {\n      lineHeight: 0,\n      backgroundColor: 'currentColor',\n      boxSizing: 'border-box',\n      overflow: 'hidden',\n      display: 'flex',\n      flexDirection: flexDirection\n    }),\n    ref: keyboardRef,\n    tabIndex: 0,\n    onKeyDown: handleKeyDown\n  }), theOctaveKeys.map(function (_ref2, octaveIndex, octaves) {\n    var _ref4;\n\n    var _ref3 = _slicedToArray(_ref2, 2),\n        octave = _ref3[0],\n        pitches = _ref3[1];\n\n    return createElement(\"div\", {\n      key: octave,\n      style: (_ref4 = {}, _defineProperty(_ref4, widthAttribute, 0), _defineProperty(_ref4, \"flex\", 'auto'), _defineProperty(_ref4, \"boxSizing\", 'border-box'), _defineProperty(_ref4, heightAttribute, '100%'), _defineProperty(_ref4, \"position\", 'relative'), _defineProperty(_ref4, marginLeftAttribute, octaveIndex !== 0 ? null : \"\".concat(-100 * ((7 - pitches.filter(function (p) {\n        return getNaturalKeyIndexInOctave(p) !== null;\n      }).length) / (getNaturalKeyIndexInOctave(pitches[0]) ? allNaturalKeys.length : allNaturalKeys.length - 1)), \"%\")), _defineProperty(_ref4, marginRightAttribute, octaveIndex !== octaves.length - 1 ? null : \"\".concat(-100 * ((7 - pitches.filter(function (p) {\n        return getNaturalKeyIndexInOctave(p) !== null;\n      }).length) / (getNaturalKeyIndexInOctave(pitches.slice(-1)[0]) ? allNaturalKeys.length : allNaturalKeys.length - 1)), \"%\")), _ref4)\n    }, pitches.map(function (key) {\n      var _ref5, _ref6;\n\n      return createElement(\"div\", {\n        key: key.id,\n        style: (_ref5 = {\n          position: 'absolute',\n          boxSizing: 'border-box'\n        }, _defineProperty(_ref5, topAttribute, 0), _defineProperty(_ref5, leftAttribute, getNaturalKeyIndexInOctave(key) !== null ? \"\".concat(100 * (getNaturalKeyIndexInOctave(key) / 7), \"%\") : \"\".concat(100 * (key.id % 12 / 12), \"%\")), _defineProperty(_ref5, widthAttribute, getNaturalKeyIndexInOctave(key) !== null ? \"\".concat(100 / 7, \"%\") : \"\".concat(100 / 12, \"%\")), _defineProperty(_ref5, heightAttribute, getNaturalKeyIndexInOctave(key) !== null ? '100%' : accidentalKeyHeight), _defineProperty(_ref5, \"zIndex\", getNaturalKeyIndexInOctave(key) !== null ? 0 : 1), _ref5),\n        onMouseDown: handleMouseClick(key),\n        onMouseEnter: handleMouseEnter(key),\n        onMouseLeave: handleMouseLeave(key),\n        onMouseUp: handleMouseUp(key)\n      }, createElement(\"div\", {\n        style: _objectSpread2({}, getNaturalKeyIndexInOctave(key) !== null ? naturalKeyStyle(isPressed(key)) : accidentalKeyStyle(isPressed(key)), {\n          width: '100%',\n          height: '100%',\n          boxSizing: 'border-box'\n        })\n      }), labels !== null && createElement(\"div\", {\n        style: (_ref6 = {}, _defineProperty(_ref6, widthAttribute, '100%'), _defineProperty(_ref6, heightAttribute, accidentalKeyHeight), _defineProperty(_ref6, \"position\", 'absolute'), _defineProperty(_ref6, topAttribute, '50%'), _defineProperty(_ref6, leftAttribute, 0), _defineProperty(_ref6, \"display\", 'flex'), _defineProperty(_ref6, \"flexDirection\", flexDirection), _defineProperty(_ref6, \"justifyContent\", 'center'), _defineProperty(_ref6, \"alignItems\", 'center'), _defineProperty(_ref6, \"filter\", getNaturalKeyIndexInOctave(key) !== null ? null : 'invert(100%)'), _defineProperty(_ref6, \"fontSize\", '1vw'), _defineProperty(_ref6, \"pointerEvents\", 'none'), _ref6)\n      }, createElement(\"div\", {\n        style: {\n          transform: getNaturalKeyIndexInOctave(key) !== null || !'normal rotate-180'.split(' ').includes(orientation) ? null : 'rotate(90deg)'\n        }\n      }, labels(key))));\n    }));\n  }));\n});\nMusicalKeyboard.propTypes = {\n  /** The starting key number of the keyboard. */\n  startKey: number,\n\n  /** The ending key number of the keyboard. */\n  endKey: number,\n\n  /** The outer style of the keyboard. */\n  style: object,\n\n  /** Event handler that triggers when a key is activated. */\n  onKeyOn: func,\n\n  /** Event handler that triggers when a key is deactivated. */\n  onKeyOff: func,\n\n  /** Textual labels for each key. */\n  labels: func,\n\n  /** Keyboard mapping from key code to key number. */\n  keyboardMapping: object,\n\n  /** The length of the accidental keys with respect to the length of the keyboard. */\n  accidentalKeyHeight: oneOfType([string, number]),\n\n  /** The velocity of the key when the keyboard is used to activate the key. */\n  keyboardVelocity: number,\n\n  /** The style of the natural keys. */\n  naturalKeyStyle: func,\n\n  /** The style of the accidental (flat/sharp) keys. */\n  accidentalKeyStyle: func,\n\n  /** The orientation of the keyboard. */\n  orientation: oneOf(['normal', 'rotate-90', 'rotate-180', 'rotate-270']),\n\n  /** The array of activated keys via their key numbers. */\n  keysOn: arrayOf(number)\n};\nexport default MusicalKeyboard;","const getKeyFrequency = (keyNumber, baseKeyNumber, baseKeyFrequency) => (\n  baseKeyFrequency * Math.pow(\n    Math.pow(2, 1 / 12),\n    (keyNumber - baseKeyNumber)\n  )\n)\n\nexport default getKeyFrequency\n","import * as React from 'react'\nimport * as PropTypes from 'prop-types'\nimport { Midi, } from '@tonejs/midi'\n\nimport MusicalKeyboard from 'react-musical-keyboard'\n\nimport getKeyFrequency from './services/getKeyFrequency'\n\nconst PITCH_NAMES = 'C C# D D# E F F# G G# A A# B'.split(' ')\n\nconst App = ({\n  startKey: startKeyProp = 21,\n  endKey: endKeyProp = 108,\n  sound: soundProp = 0,\n  generator = null,\n  keyboardMapping = {},\n}) => {\n  const [withLabels, ] = React.useState(false)\n  const [sound, setSound, ] = React.useState(soundProp)\n  const [sustain, setSustain, ] = React.useState(false)\n  const [sostenuto, setSostenuto, ] = React.useState(false)\n  const [unaCorda, setUnaCorda, ] = React.useState(false)\n  const [notesOn, setNotesOn, ] = React.useState([])\n  const [innerWidth, setInnerWidth, ] = React.useState(window.innerWidth)\n  const [innerHeight, setInnerHeight, ] = React.useState(window.innerHeight)\n  const [, setMouseNotesOn, ] = React.useState([])\n  const [, setVelocity, ] = React.useState(null)\n  const timer = React.useRef(null)\n\n  const soundRef = React.useRef(null)\n  const sustainPedalRef = React.useRef(null)\n  const sostenutoPedalRef = React.useRef(null)\n  const unaCordaPedalRef = React.useRef(null)\n  const keyboardRef = React.useRef(null)\n\n  const keepFocus = () => {\n    window.setTimeout(() => {\n      const { current = null, } = keyboardRef\n      if (current !== null) {\n        current.focus()\n      }\n    })\n  }\n\n  const handleSoundChange = e => {\n    setSound(e.target.value)\n    keepFocus()\n  }\n\n  const handleSustainPedalDepress = () => {\n    setSustain(127)\n    keepFocus()\n  }\n\n  const handleSustainPedalRelease = () => {\n    setSustain(0)\n    keepFocus()\n  }\n\n  const handleSostenutoPedalDepress = () => {\n    setSostenuto(127)\n    keepFocus()\n  }\n\n  const handleSostenutoPedalRelease = () => {\n    setSostenuto(0)\n    keepFocus()\n  }\n\n  const handleUnaCordaPedalDepress = () => {\n    setUnaCorda(127)\n    keepFocus()\n  }\n\n  const handleUnaCordaPedalRelease = () => {\n    setUnaCorda(0)\n    keepFocus()\n  }\n\n  const handleKeyOn = e => {\n    const { source, } = e\n    const { id, velocity, } = e.target.value\n    if (source === 'mouse') {\n      setMouseNotesOn(notes => [\n        ...notes,\n        id,\n      ])\n    }\n    setNotesOn(notes => [\n      ...notes,\n      id,\n    ])\n    setVelocity(oldVelocity => {\n      const theVelocity = oldVelocity !== null ? oldVelocity : velocity\n      generator.soundOn(\n        id,\n        (source === 'mouse' ? theVelocity : velocity) * 0x7f,\n        getKeyFrequency(id, 69, 440),\n      )\n      return source === 'mouse' ? theVelocity : oldVelocity\n    })\n  }\n\n  const handleKeyOff = e => {\n    const { source, } = e\n    const { id, } = e.target.value\n    setNotesOn(notes => notes.filter(n => n !== id))\n    if (source === 'mouse') {\n      window.setTimeout(() => {\n        setMouseNotesOn(notes => {\n          const newNotes = notes.filter(n => n !== id)\n          setVelocity(oldVelocity => newNotes.length > 0 ? oldVelocity : null)\n          return newNotes\n        })\n      })\n    }\n    generator.soundOff(id)\n  }\n\n  React.useEffect(() => {\n    if ('sendMessage' in generator) {\n      generator.sendMessage(64, sustain)\n    }\n  }, [sustain, generator, ])\n\n  React.useEffect(() => {\n    if ('sendMessage' in generator) {\n      generator.sendMessage(66, sostenuto)\n    }\n  }, [sostenuto, generator, ])\n\n  React.useEffect(() => {\n    if ('sendMessage' in generator) {\n      generator.sendMessage(67, unaCorda)\n    }\n  }, [unaCorda, generator, ])\n\n  React.useEffect(() => {\n    generator.changeSound(sound)\n    soundRef.current.value = sound\n  }, [sound, generator, ])\n\n  React.useEffect(() => {\n    keepFocus()\n  }, [])\n\n  React.useEffect(() => {\n    const handleDragOver = e => {\n      e.preventDefault()\n      e.stopPropagation()\n    }\n\n    const handleDrop = async e => {\n      e.preventDefault()\n      e.stopPropagation()\n\n      const { files, } = e.dataTransfer\n      const [file, ] = files\n\n      if (timer.current !== null) {\n        window.clearInterval(timer.current)\n        if ('sendMessage' in generator) {\n          generator.sendMessage(120, 0)\n          generator.sendMessage(121, 0)\n          setNotesOn([])\n        }\n      }\n\n      if (file.type !== 'audio/mid') {\n        return\n      }\n\n      const midiData = await file.arrayBuffer()\n      const midi = new Midi(midiData)\n      console.log(midi)\n      const allMessages = [\n        ...midi.tracks.reduce(\n          (trackMessages, t, trackNumber) => [\n            ...trackMessages,\n            ...t.notes.map(n => [\n              [\n                n.ticks,\n                trackNumber,\n                'noteOn',\n                n.midi,\n                n.velocity\n              ],\n              [\n                n.ticks + n.durationTicks,\n                trackNumber,\n                'noteOff',\n                n.midi,\n                n.velocity,\n              ]\n            ]),\n            (\n              Object.keys(t.controlChanges)\n                .map(c => Number(c))\n                .filter(c => ![7, 10].includes(c))\n                .reduce(\n                  (controlChanges, c) => [\n                    ...controlChanges,\n                    ...t.controlChanges[c].map(d => [\n                      d.ticks,\n                      trackNumber,\n                      c,\n                      d.value\n                    ])\n                  ],\n                  []\n                )\n            )\n          ],\n          [],\n        )\n      ]\n        .reduce(\n          (allTheMessages, m) => [\n            ...allTheMessages,\n            ...m,\n          ],\n          []\n        )\n        .sort((a, b) => a[0] - b[0])\n\n      let ticksCounter = 0\n      let queueMessages = allMessages\n      timer.current = window.setInterval(() => {\n        ticksCounter += midi.header.ppq / 96\n        const playMessages = queueMessages.filter(m => m[0] <= ticksCounter)\n        playMessages.forEach(m => {\n          const [, , type, ...params] = m\n\n          switch (type) {\n            case 'noteOn':\n              generator.soundOn(\n                params[0],\n                params[1] * 0x7f,\n                getKeyFrequency(params[0], 69, 440)\n              )\n              setNotesOn(notes => [\n                ...notes,\n                params[0],\n              ])\n              break\n            case 'noteOff':\n              generator.soundOff(\n                params[0]\n              )\n              setNotesOn(notes => notes.filter(n => n !== params[0]))\n              break\n            default:\n              if ('sendMessage' in generator) {\n                generator.sendMessage(type, params[0])\n              }\n              break\n          }\n        })\n        queueMessages = allMessages.filter(m => m[0] > ticksCounter)\n        if (ticksCounter > midi.durationTicks) {\n          window.clearInterval(timer)\n          if ('sendMessage' in generator) {\n            generator.sendMessage(120, 0)\n            generator.sendMessage(121, 0)\n            setNotesOn([])\n          }\n        }\n      })\n    }\n\n    const handleResize = e => {\n      const { innerWidth, innerHeight, } = e.target\n\n      setInnerWidth(innerWidth)\n      setInnerHeight(innerHeight)\n    }\n\n    window.document.body.addEventListener('dragover', handleDragOver)\n    window.document.body.addEventListener('drop', handleDrop)\n    window.addEventListener('resize', handleResize)\n    return () => {\n      window.document.body.removeEventListener('dragover', handleDragOver)\n      window.document.body.removeEventListener('drop', handleDrop)\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [generator, ])\n\n  return (\n    <React.Fragment>\n      <div\n        className=\"topbar\"\n      >\n        <div className=\"group\">\n          <label className=\"sound\">\n            <span className=\"label\">Sound</span>\n            <select\n              className=\"input\"\n              name=\"sound\"\n              onChange={handleSoundChange}\n              ref={soundRef}\n            >\n              {\n                generator.getSounds().map((s, i) => (\n                  <option\n                    key={i}\n                    value={i}\n                  >\n                    {s}\n                  </option>\n                ))\n              }\n            </select>\n          </label>\n        </div>\n      </div>\n      {\n        'sendMessage' in generator\n        && (\n          <div\n            className=\"pedals\"\n          >\n            <button\n              type=\"button\"\n              ref={unaCordaPedalRef}\n              onMouseDown={handleUnaCordaPedalDepress}\n              onMouseUp={handleUnaCordaPedalRelease}\n              onMouseLeave={handleUnaCordaPedalRelease}\n            >\n              Una Corda\n            </button>\n            <button\n              type=\"button\"\n              ref={sostenutoPedalRef}\n              onMouseDown={handleSostenutoPedalDepress}\n              onMouseUp={handleSostenutoPedalRelease}\n              onMouseLeave={handleSostenutoPedalRelease}\n            >\n              Sostenuto\n            </button>\n            <button\n              type=\"button\"\n              ref={sustainPedalRef}\n              onMouseDown={handleSustainPedalDepress}\n              onMouseUp={handleSustainPedalRelease}\n              onMouseLeave={handleSustainPedalRelease}\n            >\n              Sustain\n            </button>\n          </div>\n        )\n      }\n      <MusicalKeyboard\n        ref={keyboardRef}\n        labels={key => withLabels ? `${PITCH_NAMES[key.id % 12]}${Math.floor(key.id / 12) - 1}` : null}\n        onKeyOn={handleKeyOn}\n        onKeyOff={handleKeyOff}\n        startKey={startKeyProp}\n        endKey={endKeyProp}\n        accidentalKeyHeight=\"65%\"\n        keyboardMapping={keyboardMapping}\n        orientation={innerWidth < innerHeight ? 'rotate-90' : 'normal'}\n        style={{\n          height: innerWidth < innerHeight ? '100%' : '5vw',\n          width: innerWidth < innerHeight ? '5vh' : '100%',\n          color: '#000',\n          outline: 'none',\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n        }}\n        naturalKeyStyle={pressed => ({\n          backgroundColor: pressed ? 'Highlight' : 'white',\n          border: '1px solid',\n        })}\n        accidentalKeyStyle={pressed => ({\n          backgroundColor: pressed ? 'Highlight' : 'currentColor',\n          border: '1px solid',\n        })}\n        keysOn={notesOn}\n      />\n    </React.Fragment>\n  )\n}\n\nApp.propTypes = {\n  startKey: PropTypes.number,\n  endKey: PropTypes.number,\n  sound: PropTypes.number,\n  generator: PropTypes.object,\n  keyboardMapping: PropTypes.object,\n}\n\nexport default App\n","import * as React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\nimport App from './App'\n\nconst KEYBOARD_MAPPING = {\n  81: 60,\n  50: 61,\n  87: 62,\n  51: 63,\n  69: 64,\n  82: 65,\n  53: 66,\n  84: 67,\n  54: 68,\n  89: 69,\n  55: 70,\n  85: 71,\n  73: 72,\n  57: 73,\n  79: 74,\n  48: 75,\n  80: 76,\n  219: 77,\n  61: 78,\n  187: 78,\n  221: 79,\n  90: 48,\n  83: 49,\n  88: 50,\n  68: 51,\n  67: 52,\n  86: 53,\n  71: 54,\n  66: 55,\n  72: 56,\n  78: 57,\n  74: 58,\n  77: 59,\n  188: 60,\n  76: 61,\n  190: 62,\n  59: 63,\n  186: 63,\n  191: 64,\n}\n\nPromise.all([\n  import('./services/MidiSoundGenerator'),\n  import('./services/WaveSoundGenerator')\n])\n  .then(([midiModule, waveModule, ]) => {\n    let Generator = waveModule.default\n    if ('requestMIDIAccess' in window.navigator) {\n      Generator = midiModule.default\n    }\n\n    ReactDOM.render(\n      React.createElement(App, {\n        generator: new Generator(),\n        keyboardMapping: KEYBOARD_MAPPING,\n        startKey: 0,\n        endKey: 127,\n      }),\n      window.document.getElementById('root')\n    )\n  })\n"],"sourceRoot":""}